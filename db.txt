enum role_user {
  admin
  customer
}
enum status_order{
  processed
  shipped
  completed
  canceled
}
enum method_payment{
  cash
  credit_card
  e_wallet
  bank_transfer
}
enum status_payment{
  pending
  paid
  failed
}

Table user {
  id uuid [primary key]
  name varchar
  email varchar
  phone_number varchar
  password varchar
  role role_user
}

Table category{
  id uuid [primary key]
  name varchar
  image varchar
}

Table product{
  id uuid [primary key]
  name varchar
  image varchar
  price int
  stock int
  description varchar
  category_id uuid [ref: > category.id]
}

Table cart{
  id uuid [primary key]
  quantity int
  user_id uuid [ref: > user.id]
  product_id uuid [ref: > product.id]
}

Table order {
  id uuid [primary key]
  code varchar
  status status_order
  total bigint
  user_id uuid [ref: > user.id]
}

Table order_detail {
  id uuid [primary key]
  name varchar
  phone varchar
  address varchar
  notes varchar
  order_id uuid [ref: > order.id]
}

Table order_product {
  id uuid [primary key]
  subTotal bigint
  quantity int
  product_id uuid [ref: > product.id]
  order_id uuid [ref: > order.id]
}

Table payment {
  id uuid [primary key]
  transaction_date timestamp
  status status_payment
  method method_payment
  order_id uuid [ref: > order.id]
}

Table promo {
  id uuid [primary key]
  discount_percentage int
  start_date timestamp
  end_date timestamp
  image varchar
  product_id uuid [ref: > product.id]
}

Table sales_analytic {
  id uuid [primary key]   
  total_sales int         
  total_revenue int       
  total_orders int        
  start_date date        
  end_date date           
  top_selling_product_id uuid [ref: > product.id] 
}

Table notification {
  id uuid [primary key]
  message varchar 
  sent_at datetime
  link varchar
  user_id uuid [ref: > user.id]
  order_id uuid [ref: > order.id]
}
